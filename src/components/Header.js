import { useState, useEffect } from "react";
import { useRouter } from "next/router";

const Header = ({ language, onLanguageToggle }) => {
  const [chairId, setchairId] = useState();

  useEffect(() => {
    setchairId(localStorage.getItem("ChairId"));
  }, []);

  const router = useRouter();

  const handleLogout = () => {
    localStorage.removeItem("language");
    localStorage.removeItem("ChairId");

    router.push("/login");
  };

  return (
    <header className="flex items-center justify-between px-8 md:px-24 py-4 bg-white">
      {/* Logo and Title */}
      <div className="flex items-center">
        <img src="/images/logo.png" alt="DMI Logo" className="h-16 mr-4" />
        <h1 className="text-sm leading-[16px] border-l-2 text-[#444444] border-neutral-300 pl-3 font-semibold uppercase">
          {language === "ar" ? (
            <>
              دبي للإعلام <br />
              ضيف <br />
              خدمات
            </>
          ) : (
            <>
              DMI <br />
              Guest <br />
              Services
            </>
          )}
        </h1>
      </div>

      {/* Buttons */}
      <div className="flex items-center gap-4">
        <button
          className="p-2 rounded-xl border text-dmiGray1 border-dmiRed1 hover:bg-dmiRed1 hover:text-white relative"
          onClick={onLanguageToggle}
        >
          <svg
            width="34"
            height="34"
            viewBox="0 0 34 34"
            className="transition-colors duration-100 w-6 h-6"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20.6055 10.069H22.0859C22.4784 10.0695 22.8547 10.2256 23.1322 10.5032C23.4097 10.7807 23.5658 11.1569 23.5663 11.5494V13.0298C23.5663 13.4224 23.7223 13.799 23.9999 14.0766C24.2776 14.3542 24.6541 14.5102 25.0467 14.5102C25.4394 14.5102 25.8159 14.3542 26.0935 14.0766C26.3712 13.799 26.5271 13.4224 26.5271 13.0298V11.5494C26.5259 10.3719 26.0575 9.24302 25.2249 8.41041C24.3923 7.5778 23.2634 7.10948 22.0859 7.10819H20.6055C20.2129 7.10819 19.8364 7.26416 19.5587 7.54179C19.2811 7.81942 19.1251 8.19596 19.1251 8.58859C19.1251 8.98122 19.2811 9.35776 19.5587 9.63539C19.8364 9.91302 20.2129 10.069 20.6055 10.069ZM14.6839 23.3926H13.2035C12.8111 23.3921 12.4348 23.236 12.1573 22.9584C11.8798 22.6809 11.7236 22.3047 11.7231 21.9122V20.4318C11.7231 20.0392 11.5672 19.6626 11.2895 19.385C11.0119 19.1074 10.6354 18.9514 10.2427 18.9514C9.85011 18.9514 9.47356 19.1074 9.19593 19.385C8.9183 19.6626 8.76233 20.0392 8.76233 20.4318V21.9122C8.76362 23.0897 9.23194 24.2186 10.0646 25.0512C10.8972 25.8838 12.0261 26.3521 13.2035 26.3534H14.6839C15.0766 26.3534 15.4531 26.1974 15.7307 25.9198C16.0084 25.6422 16.1643 25.2656 16.1643 24.873C16.1643 24.4804 16.0084 24.1038 15.7307 23.8262C15.4531 23.5486 15.0766 23.3926 14.6839 23.3926ZM13.2476 16.3499C13.3438 16.7297 13.5868 17.056 13.9232 17.257C14.2595 17.4581 14.6619 17.5176 15.0421 17.4225C15.4222 17.3274 15.7492 17.0855 15.9513 16.7497C16.1534 16.414 16.2141 16.0118 16.1202 15.6313L13.5187 5.22444C13.3359 4.49392 12.9143 3.84544 12.3207 3.38206C11.7271 2.91868 10.9957 2.66699 10.2427 2.66699C9.48967 2.66699 8.75825 2.91868 8.16468 3.38206C7.57111 3.84544 7.14946 4.49392 6.96673 5.22444L4.36519 15.6313C4.27125 16.0118 4.33199 16.414 4.53409 16.7497C4.73618 17.0855 5.06315 17.3274 5.44332 17.4225C5.8235 17.5176 6.22587 17.4581 6.56224 17.257C6.89862 17.056 7.14155 16.7297 7.2378 16.3499L8.06773 13.0298H12.4177L13.2476 16.3499ZM8.80793 10.069L9.83934 5.94295C9.87032 5.86104 9.92551 5.7905 9.99756 5.74072C10.0696 5.69094 10.1551 5.66428 10.2427 5.66428C10.3303 5.66428 10.4158 5.69094 10.4878 5.74072C10.5599 5.7905 10.6151 5.86104 10.646 5.94295L11.6775 10.069H8.80793Z"
              fill="currentColor"
            />
            <path
              d="M25.6829 31.3276C25.0269 31.3276 24.3856 31.2479 23.759 31.0887C23.1421 30.9295 22.5841 30.6757 22.0847 30.3274C21.5854 29.989 21.1889 29.5511 20.8951 29.0137C20.6014 28.4762 20.4545 27.8293 20.4545 27.073C20.4545 26.2569 20.6161 25.5105 20.9392 24.8337C21.2623 24.147 21.7176 23.5399 22.305 23.0124C22.8925 22.485 23.5876 22.0471 24.3905 21.6987C25.2031 21.3405 26.0892 21.0867 27.0487 20.9374L27.5333 22.9079C26.6717 23.0672 25.9227 23.2762 25.2863 23.5349C24.6597 23.7937 24.1408 24.0972 23.7296 24.4456C23.3184 24.7939 23.01 25.1671 22.8043 25.5652C22.6085 25.9732 22.5106 26.4012 22.5106 26.849C22.5106 27.2073 22.5743 27.5208 22.7015 27.7895C22.8386 28.0582 23.0197 28.2822 23.2449 28.4613C23.4701 28.6504 23.7198 28.7997 23.9939 28.9092C24.2681 29.0286 24.552 29.1132 24.8457 29.1629C25.1395 29.2127 25.4185 29.2376 25.6829 29.2376C26.3584 29.2376 26.9851 29.1729 27.5627 29.0435C28.1502 28.9141 28.6642 28.7549 29.1048 28.5658L29.6922 30.4916C29.4573 30.611 29.1244 30.7354 28.6936 30.8648C28.2726 30.9942 27.7977 31.1036 27.269 31.1932C26.7501 31.2828 26.2214 31.3276 25.6829 31.3276ZM22.7603 23.0572C22.4176 22.9179 22.0994 22.7188 21.8057 22.4601C21.5217 22.2013 21.2917 21.8828 21.1154 21.5047C20.949 21.1165 20.8658 20.6736 20.8658 20.176C20.8658 19.549 21.0273 19.0066 21.3504 18.5488C21.6735 18.091 22.1043 17.7377 22.6428 17.4889C23.1813 17.2401 23.7688 17.1157 24.4052 17.1157C24.7185 17.1157 25.0073 17.1356 25.2717 17.1754C25.5458 17.2152 25.8248 17.2749 26.1088 17.3546L25.7857 19.34C25.5801 19.2903 25.3696 19.2505 25.1542 19.2206C24.9388 19.1908 24.7478 19.1758 24.5814 19.1758C24.2387 19.1758 23.9401 19.2256 23.6855 19.3251C23.4408 19.4246 23.2498 19.5689 23.1128 19.758C22.9855 19.9372 22.9218 20.1512 22.9218 20.4C22.9218 20.599 22.9806 20.7881 23.0981 20.9672C23.2254 21.1464 23.3869 21.3056 23.5827 21.4449C23.7785 21.5743 23.9939 21.6838 24.2289 21.7734C24.4639 21.853 24.694 21.8978 24.9192 21.9077L22.7603 23.0572Z"
              fill="currentColor"
            />
          </svg>
        </button>
        <button
          onClick={handleLogout}
          className="p-2 rounded-xl border text-dmiGray1 border-dmiRed1 hover:bg-dmiRed1 hover:text-white relative"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            className="transition-colors duration-100 w-6 h-6"
          >
            <path
              fill="currentColor"
              d="M4,12a1,1,0,0,0,1,1h7.59l-2.3,2.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l4-4a1,1,0,0,0,.21-.33,1,1,0,0,0,0-.76,1,1,0,0,0-.21-.33l-4-4a1,1,0,1,0-1.42,1.42L12.59,11H5A1,1,0,0,0,4,12ZM17,2H7A3,3,0,0,0,4,5V8A1,1,0,0,0,6,8V5A1,1,0,0,1,7,4H17a1,1,0,0,1,1,1V19a1,1,0,0,1-1,1H7a1,1,0,0,1-1-1V16a1,1,0,0,0-2,0v3a3,3,0,0,0,3,3H17a3,3,0,0,0,3-3V5A3,3,0,0,0,17,2Z"
            ></path>
          </svg>
        </button>
        {/* <button className="p-2 rounded-xl border text-dmiGray1 border-dmiRed1 hover:bg-dmiRed1 hover:text-white relative">
          <svg
            width="34"
            height="34"
            viewBox="0 0 34 34"
            className="transition-colors duration-100 w-6 h-6"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M29.9815 9.49014C29.733 9.61881 29.4436 9.64355 29.1769 9.55894C28.9102 9.47433 28.688 9.28728 28.5592 9.03891C27.5517 7.04859 26.0267 5.36637 24.1445 4.16902C24.0272 4.09504 23.9256 3.99867 23.8455 3.88543C23.7655 3.77219 23.7085 3.64429 23.6779 3.50903C23.6472 3.37377 23.6435 3.2338 23.667 3.09712C23.6905 2.96043 23.7406 2.82971 23.8146 2.71241C23.8886 2.59511 23.985 2.49353 24.0982 2.41347C24.2114 2.33341 24.3393 2.27644 24.4746 2.24581C24.6099 2.21518 24.7498 2.21149 24.8865 2.23495C25.0232 2.25842 25.1539 2.30857 25.2712 2.38256C27.4648 3.7871 29.2461 5.74908 30.4327 8.06783C30.5614 8.3163 30.5861 8.60569 30.5015 8.87239C30.4169 9.13909 30.2298 9.36129 29.9815 9.49014ZM5.13857 9.60889C5.33194 9.60881 5.52158 9.5556 5.68678 9.45509C5.85198 9.35457 5.98639 9.21061 6.07534 9.03891C7.08284 7.04859 8.60781 5.36637 10.49 4.16902C10.7269 4.0196 10.8948 3.7822 10.9566 3.50903C11.0185 3.23586 10.9693 2.94931 10.8199 2.71241C10.6705 2.47551 10.4331 2.30767 10.1599 2.24581C9.88673 2.18395 9.60017 2.23314 9.36327 2.38256C7.16965 3.7871 5.38844 5.74908 4.2018 8.06783C4.11846 8.22869 4.07793 8.40829 4.08411 8.58935C4.09029 8.77041 4.14296 8.94684 4.23706 9.10164C4.33117 9.25645 4.46353 9.38443 4.62142 9.47327C4.77931 9.56211 4.95741 9.60881 5.13857 9.60889ZM29.6925 23.3227C29.8795 23.6434 29.9786 24.0077 29.9799 24.3789C29.9812 24.7501 29.8846 25.1151 29.6998 25.437C29.515 25.7589 29.2486 26.0265 28.9274 26.2126C28.6062 26.3987 28.2416 26.4969 27.8704 26.4971H22.4873C22.245 27.6902 21.5978 28.7628 20.6552 29.5332C19.7126 30.3036 18.5327 30.7245 17.3153 30.7245C16.0979 30.7245 14.9179 30.3036 13.9753 29.5332C13.0328 28.7628 12.3855 27.6902 12.1432 26.4971H6.76011C6.38912 26.4964 6.02488 26.3979 5.70407 26.2116C5.38326 26.0253 5.11722 25.7577 4.93274 25.4359C4.74826 25.114 4.65187 24.7492 4.65326 24.3782C4.65465 24.0072 4.75378 23.6432 4.94066 23.3227C6.12944 21.271 6.76011 18.3538 6.76011 14.8865C6.76011 12.0871 7.87217 9.40232 9.85164 7.42284C11.8311 5.44336 14.5159 4.33131 17.3153 4.33131C20.1147 4.33131 22.7994 5.44336 24.7789 7.42284C26.7584 9.40232 27.8704 12.0871 27.8704 14.8865C27.8704 18.3525 28.5011 21.2697 29.6925 23.3227ZM20.2997 26.4971H14.3308C14.5495 27.1138 14.9538 27.6477 15.4883 28.0252C16.0227 28.4027 16.6609 28.6054 17.3153 28.6054C17.9696 28.6054 18.6079 28.4027 19.1423 28.0252C19.6767 27.6477 20.0811 27.1138 20.2997 26.4971ZM27.8704 24.3861C26.4666 21.9756 25.7594 18.78 25.7594 14.8865C25.7594 12.6469 24.8698 10.4991 23.2862 8.91557C21.7026 7.33198 19.5548 6.44234 17.3153 6.44234C15.0757 6.44234 12.9279 7.33198 11.3444 8.91557C9.76079 10.4991 8.87114 12.6469 8.87114 14.8865C8.87114 18.7813 8.1613 21.9769 6.76011 24.3861H27.8704Z"
              fill="currentColor"
            />
          </svg>
          <span className="absolute -bottom-2 -right-2 w-[22px] h-[22px] bg-dmiRed1 border-4 border-white rounded-full"></span>
        </button> */}
        <button className="py-2 px-3 rounded-xl border text-white bg-dmiRed1">
          {chairId}
        </button>
      </div>
    </header>
  );
};

export default Header;
